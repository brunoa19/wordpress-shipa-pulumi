# Pulumi Shipa Terraform Bridge Provider

This repository contains code for building a Shipa Pulumi provider which wraps an existing
Terraform provider.

### Build the provider:

    make cleanup
    make build_sdks

## Installing

This package is available in many languages in the standard packaging formats.

### Node.js (Java/TypeScript):

Need to install locally @pulumi/shipa package with command:

    make install_nodejs_sdk

### Python:

See readme file in python examples

## Configuration

The following configuration points are available for the `shipa` provider:

- `shipa:host` (environment: `SHIPA_HOST`) - the host for `shipa` server
- `shipa:token` (environment: `SHIPA_TOKEN`) - the API token

## Prepare examples

### Sync dependencies
    
    cd sdk && go mod download

## Run local examples with Golang

    # set envs
    export SHIPA_HOST=...
    export SHIPA_TOKEN=....

    # build provider
    make cleanup
    make build_sdks

    # install localy pulumi package
    make install_pulumi_package

    # run example with automation
    cd sdk/examples/app/golang/automation
    go run main.go

    OR

    # run example with pulumi
    cd sdk/examples/app_deploy/go
    pulumi up

